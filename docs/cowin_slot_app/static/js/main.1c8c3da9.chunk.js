(this.webpackJsonpcowin=this.webpackJsonpcowin||[]).push([[0],{108:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(11),s=a.n(i),r=(a(62),a(6)),o=(a.p,a(125)),l=(a(63),a(15)),d=a.n(l),u=a(25),b=a(29),j=(a(81),a(50)),f=a.n(j),O=a(48),h=a.n(O),p=a(3);function m(e){var t=Object(c.useState)(0),a=Object(r.a)(t,2),n=(a[0],a[1],Object(c.useState)({})),i=Object(r.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)(0),O=Object(r.a)(j,2),m=O[0],v=O[1],g=JSON.parse(localStorage.getItem("baseUrlIndex"))||localStorage.setItem("baseUrlIndex",!1),x=Object(c.useState)(g||!1),S=Object(r.a)(x,2),y=S[0],N=S[1];return Object(c.useEffect)((function(){var t={},a=0;e.districtArray.map((function(e){d.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/".concat(y?"public/":"","calendarByDistrict?district_id=").concat(e.district_id,"&date=").concat(h()().format("DD-MM-YYYY"))).then((function(e){e.data.centers.map((function(e){var c=0;e.sessions.map((function(e){c+=e.min_age_limit<45?e.available_capacity:0})),c&&(t=Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},e.pincode,t[e.pincode]?t[e.pincode]+c:c))),a+=c})),v(a),l(t)})).catch((function(){l({}),v(0),localStorage.setItem("baseUrlIndex",!y),N(!y)}))}))}),[e.districtArray]),Object(p.jsx)("div",{className:"slots_info",children:m>0?Object.keys(s).map((function(e){return Object(p.jsxs)("div",{className:"slots_inline",style:{display:"inlineBlock",marginTop:"20px"},children:[Object(p.jsxs)(o.a,{onClick:function(){navigator.clipboard.writeText(e)},variant:"contained",color:"primary",children:[e," "," ",Object(p.jsx)(f.a,{})," "]}),Object(p.jsx)(o.a,{variant:"contained",color:"secondary",children:s[e]})," "]})})):Object(p.jsx)(o.a,{style:{marginTop:"20px"},variant:"contained",color:"secondary",children:"NO SLOT AVAILABLE, Try Refresh!"})})}a(91);function v(e){var t=e.selectedCity,a=e.refreshNumber,n=e.setIntevalForRefresh,i=Object(c.useState)(!1),s=Object(r.a)(i,2),l=s[0],u=s[1],b=Object(c.useState)([]),j=Object(r.a)(b,2),f=j[0],O=j[1];Object(c.useEffect)((function(){!a&&d.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t.value)).then((function(e){var t=e.data.districts;O(t),n(60)})).catch((function(){n(60)}))}),[t.value,l]);return console.log("selectedCity",a),Object(p.jsxs)("div",{className:"city_wrapper",children:[Object(p.jsxs)(o.a,{variant:"contained",children:[t.label,"  "]}),a?null:Object(p.jsx)(o.a,{variant:"contained",style:{background:"orange",marginLeft:"10px"},onClick:function(){return console.log("setToggle",u),n(60),void u(!l)},children:"Refresh"}),Object(p.jsx)("div",{className:"city_list_content",children:Object(p.jsx)(m,{districtArray:f||[]})})]})}var g=a(51),x=a.n(g);a(108);function S(e){var t=e.setCities,a=e.setIntevalForRefresh,n=e.refreshNumber,i=Object(c.useState)(0),s=Object(r.a)(i,2),o=(s[0],s[1],Object(c.useState)([])),l=Object(r.a)(o,2),u=l[0],b=l[1],j=Object(c.useState)(!0),f=Object(r.a)(j,2),O=f[0],h=f[1];return Object(c.useEffect)((function(){O&&d.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){var t=e.data.states,a=[];t.map((function(e){a.push({label:e.state_name,value:e.state_id})})),b(a),h(!1)}))}),[O]),Object(p.jsx)("div",{className:"filter_wrapper",children:Object(p.jsx)("div",{className:"filter_state_select",children:Object(p.jsx)(x.a,{isLoading:O,options:u,isDisabled:n,placeholderButtonLabel:"Select Your City",onChange:function(e){t(e),a(60)}})})})}var y=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1],i=localStorage.getItem("have")?0:JSON.parse(localStorage.getItem("refreshNumber"))||localStorage.setItem("refreshNumber",0),s=Object(c.useState)(i||0),l=Object(r.a)(s,2),d=l[0],u=l[1],b=function(e){e&&setTimeout((function(){localStorage.setItem("refreshNumber",e-1),u(e-1)}),1e3)};return d&&b(d),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[d?Object(p.jsx)("div",{className:"header_button",children:Object(p.jsx)(o.a,{className:"header_button",variant:"contained",color:"secondary",children:"Wait till ".concat(d," secs for next refresh")})}):null,Object(p.jsx)(S,{setCities:n,setIntevalForRefresh:b,refreshNumber:d}),a.map((function(e){return Object(p.jsx)(v,{refreshNumber:d,selectedCity:e,setIntevalForRefresh:b},e.value)}))]})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,126)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),N()},62:function(e,t,a){},63:function(e,t,a){},81:function(e,t,a){},91:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.1c8c3da9.chunk.js.map